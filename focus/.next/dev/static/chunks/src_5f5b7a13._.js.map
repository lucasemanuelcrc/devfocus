{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/hooks/useFocusStats.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\n// Chave do LocalStorage\r\nconst STORAGE_KEY = 'focus_stats_data';\r\n\r\ninterface FocusStats {\r\n  streak: number;\r\n  sessionsToday: number;\r\n  lastSessionDate: string | null;\r\n}\r\n\r\nexport function useFocusStats() {\r\n  const [stats, setStats] = useState<FocusStats>({\r\n    streak: 0,\r\n    sessionsToday: 0,\r\n    lastSessionDate: null,\r\n  });\r\n\r\n  // Carregar dados ao iniciar\r\n  useEffect(() => {\r\n    const loadStats = () => {\r\n      const saved = localStorage.getItem(STORAGE_KEY);\r\n      if (saved) {\r\n        const parsed: FocusStats = JSON.parse(saved);\r\n        checkDailyReset(parsed);\r\n      }\r\n    };\r\n\r\n    loadStats();\r\n\r\n    // Ouvir mudan√ßas de outras abas/janelas\r\n    window.addEventListener('storage', loadStats);\r\n    // Ouvir evento customizado\r\n    window.addEventListener('focus-session-completed', loadStats);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', loadStats);\r\n      window.removeEventListener('focus-session-completed', loadStats);\r\n    };\r\n  }, []);\r\n\r\n  // Verifica se o dia mudou para resetar o contador di√°rio\r\n  const checkDailyReset = (currentStats: FocusStats) => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    // Se a √∫ltima data salva n√£o for hoje, reseta sessionsToday\r\n    if (currentStats.lastSessionDate !== today) {\r\n      setStats({\r\n        ...currentStats,\r\n        sessionsToday: 0, // Novo dia, zero sess√µes\r\n      });\r\n    } else {\r\n      setStats(currentStats);\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para registrar uma nova sess√£o completada (Sem par√¢metros)\r\n  const registerSession = () => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const lastDate = stats.lastSessionDate;\r\n    \r\n    let newStreak = stats.streak;\r\n    \r\n    if (lastDate === today) {\r\n      // J√° fez hoje, mant√©m o streak\r\n      newStreak = stats.streak;\r\n    } else if (lastDate) {\r\n      const yesterday = new Date();\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      const yesterdayString = yesterday.toISOString().split('T')[0];\r\n\r\n      if (lastDate === yesterdayString) {\r\n        // Fez ontem, aumenta streak\r\n        newStreak += 1;\r\n      } else {\r\n        // Quebrou a sequ√™ncia, reseta para 1\r\n        newStreak = 1;\r\n      }\r\n    } else {\r\n      // Primeira vez\r\n      newStreak = 1;\r\n    }\r\n\r\n    const currentSessions = stats.lastSessionDate === today ? stats.sessionsToday : 0;\r\n\r\n    const newStats: FocusStats = {\r\n      streak: newStreak,\r\n      sessionsToday: currentSessions + 1,\r\n      lastSessionDate: today,\r\n    };\r\n\r\n    setStats(newStats);\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(newStats));\r\n    \r\n    // Dispara evento\r\n    window.dispatchEvent(new Event('focus-session-completed'));\r\n  };\r\n\r\n  return {\r\n    streak: stats.streak,\r\n    sessionsToday: stats.sessionsToday,\r\n    registerSession,\r\n  };\r\n}"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIA,wBAAwB;AACxB,MAAM,cAAc;AAQb,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAa;QAC7C,QAAQ;QACR,eAAe;QACf,iBAAiB;IACnB;IAEA,4BAA4B;IAC5B,IAAA,0KAAS;mCAAC;YACR,MAAM;qDAAY;oBAChB,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,OAAO;wBACT,MAAM,SAAqB,KAAK,KAAK,CAAC;wBACtC,gBAAgB;oBAClB;gBACF;;YAEA;YAEA,wCAAwC;YACxC,OAAO,gBAAgB,CAAC,WAAW;YACnC,2BAA2B;YAC3B,OAAO,gBAAgB,CAAC,2BAA2B;YAEnD;2CAAO;oBACL,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,2BAA2B;gBACxD;;QACF;kCAAG,EAAE;IAEL,yDAAyD;IACzD,MAAM,kBAAkB,CAAC;QACvB,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAEpD,4DAA4D;QAC5D,IAAI,aAAa,eAAe,KAAK,OAAO;YAC1C,SAAS;gBACP,GAAG,YAAY;gBACf,eAAe;YACjB;QACF,OAAO;YACL,SAAS;QACX;IACF;IAEA,oEAAoE;IACpE,MAAM,kBAAkB;QACtB,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACpD,MAAM,WAAW,MAAM,eAAe;QAEtC,IAAI,YAAY,MAAM,MAAM;QAE5B,IAAI,aAAa,OAAO;YACtB,+BAA+B;YAC/B,YAAY,MAAM,MAAM;QAC1B,OAAO,IAAI,UAAU;YACnB,MAAM,YAAY,IAAI;YACtB,UAAU,OAAO,CAAC,UAAU,OAAO,KAAK;YACxC,MAAM,kBAAkB,UAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAE7D,IAAI,aAAa,iBAAiB;gBAChC,4BAA4B;gBAC5B,aAAa;YACf,OAAO;gBACL,qCAAqC;gBACrC,YAAY;YACd;QACF,OAAO;YACL,eAAe;YACf,YAAY;QACd;QAEA,MAAM,kBAAkB,MAAM,eAAe,KAAK,QAAQ,MAAM,aAAa,GAAG;QAEhF,MAAM,WAAuB;YAC3B,QAAQ;YACR,eAAe,kBAAkB;YACjC,iBAAiB;QACnB;QAEA,SAAS;QACT,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QAEjD,iBAAiB;QACjB,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,OAAO;QACL,QAAQ,MAAM,MAAM;QACpB,eAAe,MAAM,aAAa;QAClC;IACF;AACF;GA5FgB"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/hooks/useSoundEffects.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useCallback } from 'react';\r\n\r\nexport function useSoundEffects() {\r\n  const playSound = useCallback((fileName: string, volume = 0.4) => {\r\n    try {\r\n      const audio = new Audio(`/sounds/${fileName}`);\r\n      audio.volume = volume;\r\n      audio.play().catch((err) => {\r\n        // Ignora erros de autoplay (comum se o usu√°rio ainda n√£o interagiu com a p√°gina)\r\n        // console.warn('Audio play failed', err);\r\n      });\r\n    } catch (e) {\r\n      // Falha silenciosa para n√£o quebrar a app se o arquivo faltar\r\n    }\r\n  }, []);\r\n\r\n  const playClick = useCallback(() => playSound('click.mp3', 0.5), [playSound]);\r\n  const playSwitch = useCallback(() => playSound('switch.mp3', 0.3), [playSound]);\r\n  const playDone = useCallback(() => playSound('done.mp3', 0.6), [playSound]);\r\n\r\n  return {\r\n    playClick,\r\n    playSwitch,\r\n    playDone,\r\n  };\r\n}"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,SAAS;;IACd,MAAM,YAAY,IAAA,4KAAW;kDAAC,CAAC,UAAkB,SAAS,GAAG;YAC3D,IAAI;gBACF,MAAM,QAAQ,IAAI,MAAM,CAAC,QAAQ,EAAE,UAAU;gBAC7C,MAAM,MAAM,GAAG;gBACf,MAAM,IAAI,GAAG,KAAK;8DAAC,CAAC;oBAClB,iFAAiF;oBACjF,0CAA0C;oBAC5C;;YACF,EAAE,OAAO,GAAG;YACV,8DAA8D;YAChE;QACF;iDAAG,EAAE;IAEL,MAAM,YAAY,IAAA,4KAAW;kDAAC,IAAM,UAAU,aAAa;iDAAM;QAAC;KAAU;IAC5E,MAAM,aAAa,IAAA,4KAAW;mDAAC,IAAM,UAAU,cAAc;kDAAM;QAAC;KAAU;IAC9E,MAAM,WAAW,IAAA,4KAAW;iDAAC,IAAM,UAAU,YAAY;gDAAM;QAAC;KAAU;IAE1E,OAAO;QACL;QACA;QACA;IACF;AACF;GAvBgB"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/hooks/usePiP.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\n\r\ninterface UsePiPProps {\r\n  timeLeft: number;\r\n  maxTime: number;\r\n  mode: 'focus' | 'shortBreak' | 'longBreak';\r\n  isRunning: boolean;\r\n}\r\n\r\nconst COLORS = {\r\n  focus: '#06b6d4',\r\n  shortBreak: '#10b981',\r\n  longBreak: '#8b5cf6',\r\n  bg: '#020617',\r\n  text: '#e2e8f0',\r\n};\r\n\r\nexport function usePiP({ timeLeft, maxTime, mode, isRunning }: UsePiPProps) {\r\n  const [isPiPActive, setIsPiPActive] = useState(false);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const m = Math.floor(seconds / 60);\r\n    const s = seconds % 60;\r\n    return `${m}:${s < 10 ? '0' : ''}${s}`;\r\n  };\r\n\r\n  // Desenha no canvas\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas?.getContext('2d');\r\n    if (!canvas || !ctx) return;\r\n\r\n    const size = 512;\r\n    if (canvas.width !== size) canvas.width = size;\r\n    if (canvas.height !== size) canvas.height = size;\r\n\r\n    // 1. Fundo\r\n    ctx.fillStyle = COLORS.bg;\r\n    ctx.fillRect(0, 0, size, size);\r\n\r\n    // 2. Anel Fundo\r\n    const centerX = size / 2;\r\n    const centerY = size / 2;\r\n    const radius = size * 0.4;\r\n    const strokeWidth = 40;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\r\n    ctx.strokeStyle = '#1e293b';\r\n    ctx.lineWidth = strokeWidth;\r\n    ctx.stroke();\r\n\r\n    // 3. Anel Progresso\r\n    const progress = 1 - timeLeft / maxTime;\r\n    const startAngle = -0.5 * Math.PI;\r\n    const endAngle = startAngle + progress * (2 * Math.PI);\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.strokeStyle = COLORS[mode];\r\n    ctx.lineWidth = strokeWidth;\r\n    ctx.lineCap = 'round';\r\n    ctx.stroke();\r\n\r\n    // 4. Texto\r\n    ctx.fillStyle = COLORS.text;\r\n    ctx.font = 'bold 120px sans-serif';\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillText(formatTime(timeLeft), centerX, centerY);\r\n\r\n    // 5. Status\r\n    ctx.font = 'bold 40px sans-serif';\r\n    ctx.fillStyle = isRunning ? COLORS[mode] : '#64748b';\r\n    ctx.fillText(isRunning ? 'FOCUS' : 'PAUSADO', centerX, centerY + 100);\r\n  }, [timeLeft, maxTime, mode, isRunning]);\r\n\r\n  const togglePiP = useCallback(async () => {\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current;\r\n\r\n    if (!video || !canvas) {\r\n      console.warn(\"Elemento de v√≠deo ou canvas n√£o encontrado\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (document.pictureInPictureElement) {\r\n        await document.exitPictureInPicture();\r\n        setIsPiPActive(false);\r\n      } else {\r\n        // Se o stream ainda n√£o foi criado, cria agora\r\n        if (!video.srcObject) {\r\n          const stream = canvas.captureStream(30);\r\n          video.srcObject = stream;\r\n        }\r\n\r\n        // Aguarda metadados carregarem se necess√°rio\r\n        if (video.readyState < 1) { // HAVE_METADATA\r\n            await new Promise((resolve) => {\r\n                video.onloadedmetadata = () => resolve(true);\r\n            });\r\n        }\r\n\r\n        // Toca o v√≠deo (requisito para PiP)\r\n        await video.play();\r\n\r\n        // Solicita o PiP\r\n        await video.requestPictureInPicture();\r\n        setIsPiPActive(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro PiP:', error);\r\n      setIsPiPActive(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    if (!video) return;\r\n\r\n    const onLeave = () => setIsPiPActive(false);\r\n    video.addEventListener('leavepictureinpicture', onLeave);\r\n    return () => video.removeEventListener('leavepictureinpicture', onLeave);\r\n  }, []);\r\n\r\n  return {\r\n    togglePiP,\r\n    isPiPActive,\r\n    canvasRef,\r\n    videoRef,\r\n  };\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/components/TimerCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useFocusStats } from '@/hooks/useFocusStats';\r\nimport { useSoundEffects } from '@/hooks/useSoundEffects';\r\nimport { usePiP } from '@/hooks/usePiP';\r\nimport { Maximize2, Minimize2, PictureInPicture2 } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\n// Tipos e Configura√ß√µes\r\ntype TimerMode = 'focus' | 'shortBreak' | 'longBreak';\r\n\r\nconst MODES = {\r\n  focus: { label: 'Deep Focus', minutes: 25, color: 'cyan', hex: '#06b6d4' },\r\n  shortBreak: { label: 'Descanso Curto', minutes: 5, color: 'emerald', hex: '#10b981' },\r\n  longBreak: { label: 'Descanso Longo', minutes: 15, color: 'violet', hex: '#8b5cf6' },\r\n};\r\n\r\nconst QUOTES = [\r\n  \"Foque em uma coisa de cada vez.\",\r\n  \"Sess√£o de foco profundo.\",\r\n  \"Sem distra√ß√µes agora.\",\r\n  \"Construa o seu futuro agora.\",\r\n  \"Silencie o ru√≠do, amplie o foco.\",\r\n  \"Um passo de cada vez.\",\r\n];\r\n\r\ninterface TimerCardProps {\r\n  isZenMode?: boolean;\r\n  onToggleZen?: () => void;\r\n}\r\n\r\nexport default function TimerCard({ isZenMode = false, onToggleZen }: TimerCardProps) {\r\n  // --- ESTADO ---\r\n  const [mode, setMode] = useState<TimerMode>('focus');\r\n  const [timeLeft, setTimeLeft] = useState(MODES.focus.minutes * 60);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [quote, setQuote] = useState(QUOTES[0]);\r\n  const [isCompleted, setIsCompleted] = useState(false);\r\n\r\n  // --- HOOKS ---\r\n  const { registerSession } = useFocusStats();\r\n  const { playClick, playSwitch, playDone } = useSoundEffects();\r\n  const { togglePiP, isPiPActive, canvasRef, videoRef } = usePiP({\r\n    timeLeft,\r\n    maxTime: MODES[mode].minutes * 60,\r\n    mode,\r\n    isRunning,\r\n  });\r\n\r\n  // --- PERSIST√äNCIA ---\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      const savedMode = localStorage.getItem('focus_timer_mode') as TimerMode;\r\n      const savedTime = localStorage.getItem('focus_timer_time');\r\n\r\n      if (savedMode && MODES[savedMode]) {\r\n        setMode(savedMode);\r\n      }\r\n      if (savedTime) {\r\n        const parsedTime = parseInt(savedTime, 10);\r\n        if (!isNaN(parsedTime)) setTimeLeft(parsedTime);\r\n      }\r\n      setIsLoaded(true);\r\n    }, 50);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      localStorage.setItem('focus_timer_mode', mode);\r\n      localStorage.setItem('focus_timer_time', timeLeft.toString());\r\n    }\r\n  }, [mode, timeLeft, isLoaded]);\r\n\r\n  useEffect(() => {\r\n    const randomQuote = QUOTES[Math.floor(Math.random() * QUOTES.length)];\r\n    setQuote(randomQuote);\r\n  }, [mode]);\r\n\r\n  const getNextMode = () => {\r\n    if (mode === 'focus') return MODES.shortBreak;\r\n    return MODES.focus;\r\n  };\r\n  const nextMode = getNextMode();\r\n\r\n  const theme = {\r\n    focus: {\r\n      text: 'text-cyan-400',\r\n      bg: 'bg-cyan-500',\r\n      ring: 'text-cyan-500',\r\n      glow: 'shadow-cyan-500/40',\r\n      gradient: 'from-cyan-900/20',\r\n    },\r\n    shortBreak: {\r\n      text: 'text-emerald-400',\r\n      bg: 'bg-emerald-500',\r\n      ring: 'text-emerald-500',\r\n      glow: 'shadow-emerald-500/40',\r\n      gradient: 'from-emerald-900/20',\r\n    },\r\n    longBreak: {\r\n      text: 'text-violet-400',\r\n      bg: 'bg-violet-600',\r\n      ring: 'text-violet-600',\r\n      glow: 'shadow-violet-500/40',\r\n      gradient: 'from-violet-900/20',\r\n    },\r\n  }[mode];\r\n\r\n  // --- ACTIONS ---\r\n  const switchMode = useCallback((newMode: TimerMode) => {\r\n    playSwitch();\r\n    setMode(newMode);\r\n    setTimeLeft(MODES[newMode].minutes * 60);\r\n    setIsRunning(false);\r\n    setIsCompleted(false);\r\n  }, [playSwitch]);\r\n\r\n  const toggleTimer = useCallback(() => {\r\n    playClick();\r\n    setIsRunning((prev) => !prev);\r\n    setIsCompleted(false);\r\n  }, [playClick]);\r\n\r\n  const resetTimer = useCallback(() => {\r\n    playSwitch();\r\n    setIsRunning(false);\r\n    setIsCompleted(false);\r\n    setTimeLeft(MODES[mode].minutes * 60);\r\n    setQuote(QUOTES[Math.floor(Math.random() * QUOTES.length)]);\r\n  }, [mode, playSwitch]);\r\n\r\n  // --- ATALHOS DE TECLADO ---\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) return;\r\n      if (!isLoaded) return;\r\n\r\n      switch (e.code) {\r\n        case 'Space':\r\n          if (e.target instanceof HTMLButtonElement) return;\r\n          e.preventDefault();\r\n          toggleTimer();\r\n          break;\r\n        case 'KeyR':\r\n          resetTimer();\r\n          break;\r\n        case 'KeyM':\r\n          const nextKey = mode === 'focus' ? 'shortBreak' : 'focus';\r\n          switchMode(nextKey);\r\n          break;\r\n        case 'KeyZ':\r\n          if (onToggleZen) {\r\n            playClick();\r\n            onToggleZen();\r\n          }\r\n          break;\r\n        case 'KeyP':\r\n          togglePiP();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [mode, toggleTimer, resetTimer, switchMode, onToggleZen, isLoaded, playClick, togglePiP]);\r\n\r\n  // --- EFEITO DO TIMER ---\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isRunning && timeLeft > 0) {\r\n      interval = setInterval(() => {\r\n        setTimeLeft((prev) => prev - 1);\r\n      }, 1000);\r\n    } else if (timeLeft === 0 && isRunning) {\r\n      setIsRunning(false);\r\n      setIsCompleted(true);\r\n      playDone();\r\n      setTimeout(() => setIsCompleted(false), 4000);\r\n      if (mode === 'focus') {\r\n        registerSession();\r\n      }\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRunning, timeLeft, mode, registerSession, playDone]);\r\n\r\n  useEffect(() => {\r\n    const minutes = Math.floor(timeLeft / 60);\r\n    const seconds = timeLeft % 60;\r\n    const timeStr = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n    const icon = isCompleted ? 'üéâ' : (isRunning ? 'üü¢' : '‚è∏Ô∏è');\r\n    document.title = `${icon} ${timeStr} - FOCUS`;\r\n  }, [timeLeft, isRunning, isCompleted]);\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const m = Math.floor(seconds / 60);\r\n    const s = seconds % 60;\r\n    return `${m}:${s < 10 ? '0' : ''}${s}`;\r\n  };\r\n\r\n  const totalTime = MODES[mode].minutes * 60;\r\n  const circumference = 283;\r\n  const strokeDashoffset = circumference - (timeLeft / totalTime) * circumference;\r\n\r\n  return (\r\n    <motion.div \r\n      layout\r\n      transition={{\r\n        layout: { type: \"spring\", stiffness: 100, damping: 25 },\r\n        duration: 0.8,\r\n        repeat: isCompleted ? 4 : 0,\r\n        repeatType: \"reverse\"\r\n      }}\r\n      animate={isCompleted ? {\r\n        boxShadow: [\r\n          \"0 0 0px rgba(0,0,0,0)\",\r\n          `0 0 50px ${MODES[mode].hex}80`,\r\n          \"0 0 0px rgba(0,0,0,0)\"\r\n        ],\r\n        borderColor: [\r\n          \"rgba(30, 41, 59, 0.6)\",\r\n          MODES[mode].hex,\r\n          \"rgba(30, 41, 59, 0.6)\"\r\n        ]\r\n      } : {\r\n        boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.5)\",\r\n        borderColor: \"rgba(30, 41, 59, 0.6)\"\r\n      }}\r\n      className={`\r\n        relative h-full flex flex-col justify-between items-center py-8 px-6 sm:px-10\r\n        rounded-[40px]\r\n        bg-slate-950 \r\n        border\r\n        overflow-hidden\r\n        group\r\n      `}\r\n    >\r\n      {/* Background FX */}\r\n      <div className={`absolute top-0 left-0 w-full h-2/3 bg-gradient-to-b ${theme.gradient} to-transparent opacity-25 pointer-events-none transition-all duration-1000`} />\r\n\r\n      {/* --- CORRE√á√ÉO AQUI ---\r\n         Canvas e V√≠deo invis√≠veis mas RENDERIZADOS para o PiP funcionar \r\n      */}\r\n      <canvas ref={canvasRef} className=\"absolute top-0 left-0 opacity-0 pointer-events-none -z-50\" />\r\n      <video ref={videoRef} className=\"absolute top-0 left-0 opacity-0 pointer-events-none -z-50\" muted autoPlay playsInline />\r\n\r\n      {!isLoaded ? (\r\n        // --- SKELETON ---\r\n        <div className=\"w-full h-full flex flex-col justify-between items-center animate-pulse z-20\">\r\n          <div className=\"w-full flex flex-col items-center gap-6 pt-2\">\r\n             <div className=\"flex flex-col items-center gap-3\">\r\n               <div className=\"h-8 w-40 bg-slate-800/50 rounded-lg\" />\r\n               <div className=\"h-1 w-12 bg-slate-800/30 rounded-full\" />\r\n             </div>\r\n             <div className=\"h-10 w-full max-w-[280px] bg-slate-800/40 rounded-2xl\" />\r\n             <div className=\"flex flex-col items-center gap-2 mt-2\">\r\n                <div className=\"h-3 w-32 bg-slate-800/40 rounded\" />\r\n                <div className=\"h-2 w-24 bg-slate-800/30 rounded\" />\r\n             </div>\r\n          </div>\r\n          <div className=\"relative w-64 h-64 sm:w-72 sm:h-72 rounded-full border-4 border-slate-800/30 flex items-center justify-center\">\r\n             <div className=\"h-20 w-40 bg-slate-800/50 rounded-xl\" />\r\n          </div>\r\n          <div className=\"flex flex-col items-center gap-4 pb-4\">\r\n             <div className=\"w-20 h-20 rounded-full bg-slate-800/50\" />\r\n             <div className=\"h-3 w-16 bg-slate-800/30 rounded\" />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        // --- UI REAL ---\r\n        <>\r\n          {/* BOT√ïES DE CONTROLE SUPERIOR (ZEN e PiP) */}\r\n          <div className=\"absolute top-6 right-6 z-20 flex items-center gap-2\">\r\n            \r\n            <button\r\n              onClick={togglePiP}\r\n              className={`\r\n                p-2 rounded-full transition-all duration-300 group/pip\r\n                ${isPiPActive \r\n                  ? 'text-cyan-400 bg-cyan-900/20' \r\n                  : 'text-slate-600 hover:text-slate-300 hover:bg-white/5'}\r\n              `}\r\n              title={isPiPActive ? \"Fechar Mini Player (P)\" : \"Abrir Mini Player (P)\"}\r\n            >\r\n              <PictureInPicture2 className={`w-5 h-5 ${isPiPActive ? 'opacity-100' : 'opacity-50 group-hover/pip:opacity-100'}`} />\r\n            </button>\r\n\r\n            {onToggleZen && (\r\n              <button\r\n                onClick={onToggleZen}\r\n                className=\"p-2 rounded-full text-slate-600 hover:text-slate-300 hover:bg-white/5 transition-all duration-300 group/zen\"\r\n                title=\"Modo Zen (Atalho: Z)\"\r\n              >\r\n                {isZenMode ? (\r\n                  <Minimize2 className=\"w-5 h-5 opacity-50 group-hover/zen:opacity-100\" />\r\n                ) : (\r\n                  <Maximize2 className=\"w-5 h-5 opacity-50 group-hover/zen:opacity-100\" />\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"z-10 w-full flex flex-col items-center gap-6 pt-2 shrink-0\">\r\n            <div className=\"flex flex-col items-center gap-3\">\r\n              <h1 className=\"text-3xl sm:text-4xl font-extrabold tracking-[0.3em] text-transparent bg-clip-text bg-gradient-to-br from-slate-200 to-slate-500 uppercase select-none pl-2 transition-all duration-500\">\r\n                FOCUS\r\n              </h1>\r\n              <div className={`w-12 h-0.5 rounded-full transition-colors duration-700 ${isRunning ? theme.bg : 'bg-slate-800'}`} />\r\n            </div>\r\n\r\n            <div className=\"flex p-1.5 bg-slate-900/60 rounded-2xl border border-white/5 backdrop-blur-md shadow-inner overflow-x-auto max-w-full scrollbar-hide\">\r\n              {(Object.keys(MODES) as TimerMode[]).map((m) => (\r\n                <button\r\n                  key={m}\r\n                  onClick={() => switchMode(m)}\r\n                  className={`\r\n                    px-4 py-2 rounded-xl text-[10px] sm:text-[11px] font-bold uppercase tracking-wide transition-all duration-300 whitespace-nowrap\r\n                    ${mode === m\r\n                      ? `${theme.bg} text-white shadow-lg scale-100`\r\n                      : 'text-slate-500 hover:text-slate-300 hover:bg-white/5 scale-95'}\r\n                  `}\r\n                  title={m === 'focus' ? 'Atalho: M' : ''}\r\n                >\r\n                  {MODES[m].label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-center gap-1\">\r\n              <p className=\"text-[10px] font-bold tracking-wider uppercase text-slate-200 drop-shadow-sm\">\r\n                Sess√£o Atual: <span className={`transition-colors duration-300 ${theme.text}`}>{MODES[mode].label} ¬∑ {MODES[mode].minutes} min</span>\r\n              </p>\r\n              <p className=\"text-[9px] font-semibold tracking-wider uppercase text-slate-500\">\r\n                Pr√≥ximo: {nextMode.label} ¬∑ {nextMode.minutes} min\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex-1 flex items-center justify-center w-full relative py-4\">\r\n            <div className={`\r\n              relative w-64 h-64 sm:w-72 sm:h-72 flex items-center justify-center rounded-full \r\n              transition-all duration-1000\r\n              ${isRunning ? `animate-breathing-glow ${theme.glow}` : ''}\r\n              ${isCompleted ? 'scale-110' : ''}\r\n            `}>\r\n              <svg className=\"w-full h-full absolute transform -rotate-90 drop-shadow-2xl\" viewBox=\"0 0 100 100\">\r\n                <circle cx=\"50\" cy=\"50\" r=\"45\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"transparent\" className=\"text-slate-800/60\" />\r\n                <circle\r\n                  cx=\"50\" cy=\"50\" r=\"45\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2.5\"\r\n                  fill=\"transparent\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeDasharray={circumference}\r\n                  strokeDashoffset={strokeDashoffset}\r\n                  className={`transition-all duration-1000 ease-linear ${theme.ring}`}\r\n                />\r\n              </svg>\r\n\r\n              <div className=\"z-10 flex flex-col items-center justify-center transform translate-y-1\">\r\n                <span className={`text-7xl sm:text-8xl font-medium tracking-tighter tabular-nums select-none drop-shadow-xl font-sans transition-colors duration-300 ${isCompleted ? theme.text : 'text-white'}`}>\r\n                  {formatTime(timeLeft)}\r\n                </span>\r\n                <span className={`text-[10px] font-bold tracking-[0.2em] uppercase mt-2 opacity-80 transition-colors duration-500 ${theme.text}`}>\r\n                  {isCompleted ? 'CONCLU√çDO' : (isRunning ? 'Em andamento' : 'Pausado')}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`\r\n            z-10 mt-2 mb-4 w-full px-8 text-center shrink-0\r\n            transition-all duration-1000 ease-in-out\r\n            ${isRunning || isCompleted ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4'}\r\n          `}>\r\n            <p className=\"text-[11px] text-slate-400 font-medium tracking-wider leading-relaxed select-none\">\r\n              {quote}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"z-10 w-full flex flex-col items-center justify-center gap-4 pb-4 shrink-0\">\r\n            <button\r\n              onClick={toggleTimer}\r\n              className={`\r\n                w-20 h-20 rounded-full \r\n                flex items-center justify-center\r\n                text-white shadow-2xl \r\n                transition-all duration-300 ease-out\r\n                hover:scale-110 active:scale-95\r\n                ${theme.bg}\r\n                ring-4 ring-slate-950 ring-offset-2 ring-offset-slate-900/50\r\n              `}\r\n              title={isRunning ? \"Pausar (Espa√ßo)\" : \"Iniciar (Espa√ßo)\"}\r\n            >\r\n              {isCompleted ? (\r\n                 <svg className=\"w-8 h-8 fill-current ml-1\" viewBox=\"0 0 24 24\"><path d=\"M8 5v14l11-7z\" /></svg>\r\n              ) : (\r\n                 isRunning ? (\r\n                  <svg className=\"w-8 h-8 fill-current\" viewBox=\"0 0 24 24\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" /></svg>\r\n                 ) : (\r\n                  <svg className=\"w-8 h-8 fill-current ml-1\" viewBox=\"0 0 24 24\"><path d=\"M8 5v14l11-7z\" /></svg>\r\n                 )\r\n              )}\r\n            </button>\r\n\r\n            <button\r\n              onClick={resetTimer}\r\n              className=\"text-[10px] font-bold text-slate-500 hover:text-slate-300 uppercase tracking-widest transition-colors\"\r\n              title=\"Atalho: R\"\r\n            >\r\n              Reiniciar\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/hooks/useThemeColors.ts"],"sourcesContent":["// Exemplo: Assumindo que voc√™ tem um hook que retorna o estado do timer\r\n// import { useTimerState } from '@/store/timerStore';\r\n\r\n// Tipos para os modos (ajuste conforme seu c√≥digo real)\r\nexport type TimerMode = 'focus' | 'shortBreak' | 'longBreak';\r\n\r\ninterface ThemePalette {\r\n    accent: string;      // Cor principal (texto, bordas)\r\n    bgAccent: string;    // Cor de fundo suave\r\n    buttonBg: string;    // Cor vibrante para bot√µes\r\n    buttonHover: string;\r\n    glowColor: string;   // Cor da sombra para o efeito \"breathing\"\r\n    ringColor: string;   // Cor do anel de progresso\r\n}\r\n\r\nconst themes: Record<TimerMode, ThemePalette> = {\r\n    focus: {\r\n        accent: 'text-cyan-400',\r\n        bgAccent: 'bg-cyan-950/30',\r\n        buttonBg: 'bg-cyan-500',\r\n        buttonHover: 'hover:bg-cyan-400',\r\n        glowColor: 'shadow-cyan-500/40', // Usado na anima√ß√£o de \"respira√ß√£o\"\r\n        ringColor: 'text-cyan-500',\r\n    },\r\n    shortBreak: {\r\n        accent: 'text-emerald-400',\r\n        bgAccent: 'bg-emerald-950/30',\r\n        buttonBg: 'bg-emerald-500',\r\n        buttonHover: 'hover:bg-emerald-400',\r\n        glowColor: 'shadow-emerald-500/40',\r\n        ringColor: 'text-emerald-500',\r\n    },\r\n    longBreak: {\r\n        accent: 'text-violet-400',\r\n        bgAccent: 'bg-violet-950/30',\r\n        buttonBg: 'bg-violet-600',\r\n        buttonHover: 'hover:bg-violet-500',\r\n        glowColor: 'shadow-violet-500/40',\r\n        ringColor: 'text-violet-600',\r\n    },\r\n};\r\n\r\n// Hook para consumir as cores facilmente\r\nexport function useThemeColors() {\r\n    // SUBSTITUA PELO SEU ESTADO REAL:\r\n    // const { mode, isRunning } = useTimerState();\r\n    // --- Mock para exemplo ---\r\n    const mode: TimerMode = 'focus'; // Tente mudar para 'shortBreak' ou 'longBreak' para testar\r\n    const isRunning = true; // Tente mudar para false para testar a pausa da anima√ß√£o\r\n    // -------------------------\r\n\r\n    const currentTheme = themes[mode];\r\n\r\n    // Classe utilit√°ria para o efeito de respira√ß√£o\r\n    const breathingAnimationClass = isRunning\r\n        ? `animate-breathing-glow ${currentTheme.glowColor}`\r\n        : '';\r\n\r\n    return {\r\n        mode,\r\n        isRunning,\r\n        colors: currentTheme,\r\n        breathingAnimationClass,\r\n    };\r\n}"],"names":[],"mappings":"AAAA,wEAAwE;AACxE,sDAAsD;AAEtD,wDAAwD;;;;;AAYxD,MAAM,SAA0C;IAC5C,OAAO;QACH,QAAQ;QACR,UAAU;QACV,UAAU;QACV,aAAa;QACb,WAAW;QACX,WAAW;IACf;IACA,YAAY;QACR,QAAQ;QACR,UAAU;QACV,UAAU;QACV,aAAa;QACb,WAAW;QACX,WAAW;IACf;IACA,WAAW;QACP,QAAQ;QACR,UAAU;QACV,UAAU;QACV,aAAa;QACb,WAAW;QACX,WAAW;IACf;AACJ;AAGO,SAAS;IACZ,kCAAkC;IAClC,+CAA+C;IAC/C,4BAA4B;IAC5B,MAAM,OAAkB,SAAS,2DAA2D;IAC5F,MAAM,YAAY,MAAM,yDAAyD;IACjF,4BAA4B;IAE5B,MAAM,eAAe,MAAM,CAAC,KAAK;IAEjC,gDAAgD;IAChD,MAAM,0BAA0B,uCAC1B,CAAC,uBAAuB,EAAE,aAAa,SAAS,EAAE,GAClD;IAEN,OAAO;QACH;QACA;QACA,QAAQ;QACR;IACJ;AACJ"}},
    {"offset": {"line": 1167, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/components/GoalsCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useThemeColors } from '@/hooks/useThemeColors';\r\n\r\n// Interface para as metas\r\ninterface Goal {\r\n  id: string;\r\n  text: string;\r\n  completed: boolean;\r\n}\r\n\r\nexport default function GoalsCard() {\r\n  const { colors } = useThemeColors();\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Estado local\r\n  const [goals, setGoals] = useState<Goal[]>([]);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoaded, setIsLoaded] = useState(false); // Flag de controle\r\n\r\n  // --- PERSIST√äNCIA (NOVO) ---\r\n  // 1. Carregar dados ao montar\r\n  useEffect(() => {\r\n    const savedGoals = localStorage.getItem('focus_goals');\r\n    if (savedGoals) {\r\n      try {\r\n        setGoals(JSON.parse(savedGoals));\r\n      } catch (error) {\r\n        console.error('Erro ao carregar metas:', error);\r\n      }\r\n    }\r\n    setIsLoaded(true); // Marca como carregado para liberar o salvamento\r\n  }, []);\r\n\r\n  // 2. Salvar dados quando 'goals' mudar (apenas se j√° tiver carregado)\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      localStorage.setItem('focus_goals', JSON.stringify(goals));\r\n    }\r\n  }, [goals, isLoaded]);\r\n\r\n  // Auto-scroll para o fim da lista ao adicionar item\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n    }\r\n  }, [goals]);\r\n\r\n  // Handlers (L√≥gica de Neg√≥cio Mantida)\r\n  const addGoal = (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    if (!inputValue.trim()) return;\r\n\r\n    const newGoal: Goal = {\r\n      id: crypto.randomUUID(),\r\n      text: inputValue.trim(),\r\n      completed: false,\r\n    };\r\n\r\n    setGoals([...goals, newGoal]);\r\n    setInputValue('');\r\n  };\r\n\r\n  const toggleGoal = (id: string) => {\r\n    setGoals(goals.map(g =>\r\n      g.id === id ? { ...g, completed: !g.completed } : g\r\n    ));\r\n  };\r\n\r\n  const removeGoal = (id: string) => {\r\n    setGoals(goals.filter(g => g.id !== id));\r\n  };\r\n\r\n  // C√°lculos de Progresso\r\n  const totalGoals = goals.length;\r\n  const completedGoals = goals.filter(g => g.completed).length;\r\n  const progress = totalGoals === 0 ? 0 : (completedGoals / totalGoals) * 100;\r\n\r\n  // Renderiza√ß√£o (UI Mantida id√™ntica)\r\n  return (\r\n    <div className=\"h-full flex flex-col bg-slate-950 border border-slate-800/50 rounded-[32px] shadow-xl shadow-black/20 overflow-hidden relative\">\r\n\r\n      {/* HEADER */}\r\n      <div className=\"p-6 pb-2 shrink-0 z-10 bg-slate-950/95 backdrop-blur-sm\">\r\n        <div className=\"flex justify-between items-end mb-3\">\r\n          <h2 className={`text-xs font-bold tracking-[0.2em] uppercase transition-colors duration-500 ${colors.accent}`}>\r\n            Metas da Sess√£o\r\n          </h2>\r\n          <span className=\"text-xs font-mono text-slate-500\">\r\n            {completedGoals}/{totalGoals}\r\n          </span>\r\n        </div>\r\n        {/* Barra de Progresso */}\r\n        <div className=\"w-full h-1 bg-slate-800 rounded-full overflow-hidden\">\r\n          <div\r\n            className={`h-full transition-all duration-700 ease-out ${colors.buttonBg}`}\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* LISTA */}\r\n      <div\r\n        ref={scrollRef}\r\n        className=\"flex-1 overflow-y-auto px-4 py-2 space-y-2 scrollbar-focus\"\r\n      >\r\n        {goals.length === 0 ? (\r\n          <div className=\"h-full flex flex-col items-center justify-center text-slate-600 space-y-2 opacity-50\">\r\n            <svg className=\"w-8 h-8 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n            </svg>\r\n            <p className=\"text-xs font-medium\">Nenhuma meta definida</p>\r\n          </div>\r\n        ) : (\r\n          goals.map((goal) => (\r\n            <div\r\n              key={goal.id}\r\n              className=\"group flex items-center gap-3 p-3 rounded-xl bg-slate-900/50 border border-transparent hover:border-slate-800 hover:bg-slate-900 transition-all duration-200\"\r\n            >\r\n              <button\r\n                onClick={() => toggleGoal(goal.id)}\r\n                className={`\r\n                  shrink-0 w-5 h-5 rounded-md border flex items-center justify-center transition-all duration-300\r\n                  ${goal.completed\r\n                    ? `${colors.buttonBg} border-transparent text-white`\r\n                    : 'border-slate-700 text-transparent hover:border-slate-500'}\r\n                `}\r\n              >\r\n                <svg className=\"w-3.5 h-3.5 fill-current\" viewBox=\"0 0 20 20\"><path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\" /></svg>\r\n              </button>\r\n\r\n              <span\r\n                className={`flex-1 text-sm font-medium truncate transition-all duration-300 ${goal.completed ? 'text-slate-600 line-through' : 'text-slate-200'\r\n                  }`}\r\n              >\r\n                {goal.text}\r\n              </span>\r\n\r\n              <button\r\n                onClick={() => removeGoal(goal.id)}\r\n                className=\"opacity-0 group-hover:opacity-100 p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-all duration-200\"\r\n                title=\"Remover meta\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" /></svg>\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* FOOTER */}\r\n      <div className=\"p-4 pt-2 bg-slate-950/95 backdrop-blur-sm z-10 border-t border-slate-900\">\r\n        <form onSubmit={addGoal} className=\"relative flex items-center\">\r\n          <input\r\n            type=\"text\"\r\n            value={inputValue}\r\n            onChange={(e) => setInputValue(e.target.value)}\r\n            placeholder=\"Adicionar novo foco...\"\r\n            className=\"w-full pl-4 pr-12 py-3 bg-slate-900 rounded-xl text-sm text-slate-200 placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-slate-700 transition-all shadow-inner\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            disabled={!inputValue.trim()}\r\n            className={`\r\n              absolute right-2 p-1.5 rounded-lg text-white transition-all duration-200\r\n              ${inputValue.trim()\r\n                ? `${colors.buttonBg} hover:opacity-90 shadow-lg`\r\n                : 'bg-slate-800 text-slate-500 cursor-not-allowed'}\r\n            `}\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/components/SoundsCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useThemeColors } from '@/hooks/useThemeColors';\r\n\r\ninterface SoundTrack {\r\n  id: string;\r\n  title: string;\r\n  url: string;\r\n}\r\n\r\nconst PLAYLISTS: SoundTrack[] = [\r\n  { id: '1', title: 'Coding', url: 'https://www.youtube.com/embed/tXB7odE1HuA?si=vNyvfECHXaRQagLa' },\r\n  { id: '2', title: 'Flow', url: 'https://www.youtube.com/embed/R3wto4Uy-Fg?si=580VuUiLhye67shi' },\r\n  { id: '3', title: 'Break', url: 'https://www.youtube.com/embed/0w80F8FffQ4?si=-ks7deV7iKGjOTBU' },\r\n];\r\n\r\nexport default function SoundsCard() {\r\n  const { colors } = useThemeColors();\r\n  const [currentTrack, setCurrentTrack] = useState<SoundTrack>(PLAYLISTS[0]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  // --- PERSIST√äNCIA ---\r\n  useEffect(() => {\r\n    const savedTrackId = localStorage.getItem('focus_sound_track_id');\r\n    if (savedTrackId) {\r\n      const foundTrack = PLAYLISTS.find(t => t.id === savedTrackId);\r\n      if (foundTrack) setCurrentTrack(foundTrack);\r\n    }\r\n    setIsLoaded(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      localStorage.setItem('focus_sound_track_id', currentTrack.id);\r\n    }\r\n  }, [currentTrack, isLoaded]);\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col bg-slate-950 border border-slate-800/50 rounded-[32px] shadow-xl shadow-black/20 overflow-hidden relative p-6\">\r\n\r\n      {/* HEADER */}\r\n      <div className=\"flex items-center justify-between mb-5 shrink-0\">\r\n        <h2 className={`text-xs font-bold tracking-[0.2em] uppercase transition-colors duration-500 ${colors.accent}`}>\r\n          Focus Music\r\n        </h2>\r\n\r\n        {/* Indicador de Status */}\r\n        <div className=\"flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900 border border-slate-800/50\">\r\n          <span className={`relative flex h-2 w-2`}>\r\n            <span className={`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${colors.buttonBg}`}></span>\r\n            <span className={`relative inline-flex rounded-full h-2 w-2 ${colors.buttonBg}`}></span>\r\n          </span>\r\n          <span className=\"text-[10px] text-slate-400 font-bold uppercase tracking-wider truncate max-w-[80px]\">\r\n            {currentTrack.title}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* PLAYER WRAPPER */}\r\n      <div className=\"w-full relative group mb-5 shadow-2xl shadow-black/50 rounded-2xl overflow-hidden border border-slate-800 bg-slate-900\">\r\n        <div className=\"aspect-video w-full\">\r\n          <iframe\r\n            src={`${currentTrack.url}?autoplay=0&controls=0&rel=0&modestbranding=1`}\r\n            className=\"w-full h-full opacity-100\"\r\n            allow=\"autoplay; encrypted-media\"\r\n            title=\"Audio Player\"\r\n            loading=\"lazy\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* CONTROLS */}\r\n      <div className=\"flex gap-2 overflow-x-auto pb-1 scrollbar-hide\">\r\n        {PLAYLISTS.map((track) => {\r\n          const isActive = currentTrack.id === track.id;\r\n          return (\r\n            <button\r\n              key={track.id}\r\n              onClick={() => setCurrentTrack(track)}\r\n              className={`\r\n                flex-shrink-0 px-4 py-2.5 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all duration-300 border\r\n                ${isActive\r\n                  ? `bg-slate-800 text-white ${colors.accent.replace('text', 'border')}`\r\n                  : 'bg-transparent text-slate-500 border-slate-800 hover:bg-slate-900 hover:text-slate-300 hover:border-slate-700'\r\n                }\r\n              `}\r\n            >\r\n              {track.title.split(' ')[0]}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAWA,MAAM,YAA0B;IAC9B;QAAE,IAAI;QAAK,OAAO;QAAU,KAAK;IAAgE;IACjG;QAAE,IAAI;QAAK,OAAO;QAAQ,KAAK;IAAgE;IAC/F;QAAE,IAAI;QAAK,OAAO;QAAS,KAAK;IAAgE;CACjG;AAEc,SAAS;;IACtB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,mJAAc;IACjC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAa,SAAS,CAAC,EAAE;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,uBAAuB;IACvB,IAAA,0KAAS;gCAAC;YACR,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,cAAc;gBAChB,MAAM,aAAa,UAAU,IAAI;uDAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;gBAChD,IAAI,YAAY,gBAAgB;YAClC;YACA,YAAY;QACd;+BAAG,EAAE;IAEL,IAAA,0KAAS;gCAAC;YACR,IAAI,UAAU;gBACZ,aAAa,OAAO,CAAC,wBAAwB,aAAa,EAAE;YAC9D;QACF;+BAAG;QAAC;QAAc;KAAS;IAE3B,qBACE,6LAAC;QAAI,WAAU;;0BAGb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAW,CAAC,4EAA4E,EAAE,OAAO,MAAM,EAAE;kCAAE;;;;;;kCAK/G,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAW,CAAC,qBAAqB,CAAC;;kDACtC,6LAAC;wCAAK,WAAW,CAAC,wEAAwE,EAAE,OAAO,QAAQ,EAAE;;;;;;kDAC7G,6LAAC;wCAAK,WAAW,CAAC,0CAA0C,EAAE,OAAO,QAAQ,EAAE;;;;;;;;;;;;0CAEjF,6LAAC;gCAAK,WAAU;0CACb,aAAa,KAAK;;;;;;;;;;;;;;;;;;0BAMzB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBACC,KAAK,GAAG,aAAa,GAAG,CAAC,6CAA6C,CAAC;wBACvE,WAAU;wBACV,OAAM;wBACN,OAAM;wBACN,SAAQ;;;;;;;;;;;;;;;;0BAMd,6LAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC;oBACd,MAAM,WAAW,aAAa,EAAE,KAAK,MAAM,EAAE;oBAC7C,qBACE,6LAAC;wBAEC,SAAS,IAAM,gBAAgB;wBAC/B,WAAW,CAAC;;gBAEV,EAAE,WACE,CAAC,wBAAwB,EAAE,OAAO,MAAM,CAAC,OAAO,CAAC,QAAQ,WAAW,GACpE,gHACH;cACH,CAAC;kCAEA,MAAM,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;uBAVrB,MAAM,EAAE;;;;;gBAanB;;;;;;;;;;;;AAIR;GA9EwB;;QACH,mJAAc;;;KADX"}},
    {"offset": {"line": 1694, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/components/StreakCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Flame, Zap } from 'lucide-react';\r\nimport { useFocusStats } from '@/hooks/useFocusStats';\r\n\r\nexport default function StreakCard() {\r\n  // Conecta com a l√≥gica real via Hook\r\n  const { streak, sessionsToday } = useFocusStats();\r\n\r\n  return (\r\n    <div className=\"w-full bg-slate-900/50 border border-slate-800/60 rounded-3xl p-5 flex items-center justify-between shadow-lg backdrop-blur-sm group hover:border-slate-700/80 transition-all duration-300\">\r\n      \r\n      {/* Lado Esquerdo: Streak (Consist√™ncia) */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"w-12 h-12 rounded-2xl bg-slate-950 border border-slate-800 flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-inner relative overflow-hidden\">\r\n          <div className={`absolute inset-0 bg-cyan-500/10 transition-opacity duration-300 ${streak > 0 ? 'opacity-100' : 'opacity-0'}`} />\r\n          <Flame \r\n            className={`w-6 h-6 transition-all duration-500 ${\r\n              streak > 0 \r\n                ? 'text-cyan-400 fill-cyan-400/20 drop-shadow-[0_0_8px_rgba(34,211,238,0.5)] animate-pulse' \r\n                : 'text-slate-600'\r\n            }`} \r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex flex-col\">\r\n          <span className=\"text-[10px] font-bold tracking-wider text-slate-500 uppercase\">\r\n            Consist√™ncia\r\n          </span>\r\n          <div className=\"flex items-baseline gap-1.5\">\r\n            <span className=\"text-2xl font-bold text-slate-200\">\r\n              {streak}\r\n            </span>\r\n            <span className=\"text-sm font-medium text-slate-400\">\r\n              dias seguidos\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Divisor Vertical */}\r\n      <div className=\"h-8 w-px bg-slate-800/50 mx-2\" />\r\n\r\n      {/* Lado Direito: Sess√µes Hoje */}\r\n      <div className=\"flex flex-col items-end pr-1\">\r\n        <div className=\"flex items-center gap-1.5 mb-0.5\">\r\n          <Zap className={`w-3.5 h-3.5 ${sessionsToday > 0 ? 'text-emerald-400' : 'text-slate-600'}`} />\r\n          <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-wide\">\r\n            Hoje\r\n          </span>\r\n        </div>\r\n        <span className=\"text-lg font-bold text-slate-200 tabular-nums leading-none\">\r\n          {sessionsToday} <span className=\"text-xs font-medium text-slate-500\">focos</span>\r\n        </span>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,qCAAqC;IACrC,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,iJAAa;IAE/C,qBACE,6LAAC;QAAI,WAAU;;0BAGb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,CAAC,gEAAgE,EAAE,SAAS,IAAI,gBAAgB,aAAa;;;;;;0CAC7H,6LAAC,gNAAK;gCACJ,WAAW,CAAC,oCAAoC,EAC9C,SAAS,IACL,4FACA,kBACJ;;;;;;;;;;;;kCAIN,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAgE;;;;;;0CAGhF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDACb;;;;;;kDAEH,6LAAC;wCAAK,WAAU;kDAAqC;;;;;;;;;;;;;;;;;;;;;;;;0BAQ3D,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0MAAG;gCAAC,WAAW,CAAC,YAAY,EAAE,gBAAgB,IAAI,qBAAqB,kBAAkB;;;;;;0CAC1F,6LAAC;gCAAK,WAAU;0CAA+D;;;;;;;;;;;;kCAIjF,6LAAC;wBAAK,WAAU;;4BACb;4BAAc;0CAAC,6LAAC;gCAAK,WAAU;0CAAqC;;;;;;;;;;;;;;;;;;;;;;;;AAM/E;GArDwB;;QAEY,iJAAa;;;KAFzB"}},
    {"offset": {"line": 1869, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pessoal/Projetos/Ecossistema%20Focus/Focus-Estudos/focus/src/app/page.tsx"],"sourcesContent":["'use client'; // Adicionado pois agora usamos useState na p√°gina\r\n\r\nimport { useState } from 'react';\r\nimport TimerCard from '@/components/TimerCard';\r\nimport GoalsCard from '@/components/GoalsCard';\r\nimport SoundsCard from '@/components/SoundsCard';\r\nimport StreakCard from '@/components/StreakCard';\r\n\r\nexport default function Home() {\r\n  // Estado para controlar o Modo Zen\r\n  const [isZenMode, setIsZenMode] = useState(false);\r\n\r\n  const toggleZenMode = () => setIsZenMode(!isZenMode);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-focus-base text-slate-200 p-6 md:p-8 lg:px-12 lg:py-10 font-sans selection:bg-brand-primary/30 flex items-center justify-center transition-all duration-500\">\r\n\r\n      <div className=\"w-full max-w-[1400px] h-full lg:h-[800px] grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 items-stretch mx-auto relative\">\r\n\r\n        {/* √Årea Principal: Timer */}\r\n        {/* Se Zen, ocupa 12 colunas. Se Normal, ocupa 8. Transi√ß√£o suave. */}\r\n        <section className={`\r\n          h-[500px] lg:h-full relative z-10 flex flex-col transition-all duration-500 ease-in-out\r\n          ${isZenMode ? 'lg:col-span-12' : 'lg:col-span-8'}\r\n        `}>\r\n          <div className=\"flex-1 w-full h-full\">\r\n            <TimerCard \r\n              isZenMode={isZenMode} \r\n              onToggleZen={toggleZenMode} \r\n            />\r\n          </div>\r\n        </section>\r\n\r\n        {/* Sidebar: Ferramentas Secund√°rias */}\r\n        {/* Se Zen, fica invis√≠vel e sem intera√ß√£o. */}\r\n        <aside className={`\r\n          flex flex-col gap-6 h-full min-h-0 relative z-10 transition-all duration-500 ease-in-out\r\n          ${isZenMode \r\n            ? 'opacity-0 pointer-events-none lg:w-0 lg:col-span-0 overflow-hidden hidden lg:flex' \r\n            : 'opacity-100 lg:col-span-4'}\r\n        `}>\r\n\r\n          <div className=\"shrink-0 w-full\">\r\n            <StreakCard />\r\n          </div>\r\n\r\n          <div className=\"flex-1 min-h-0 w-full\">\r\n            <GoalsCard />\r\n          </div>\r\n\r\n          <div className=\"shrink-0 w-full h-auto\">\r\n            <SoundsCard />\r\n          </div>\r\n\r\n        </aside>\r\n\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA,cAAc,kDAAkD;;;;;;AAQjD,SAAS;;IACtB,mCAAmC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,gBAAgB,IAAM,aAAa,CAAC;IAE1C,qBACE,6LAAC;QAAK,WAAU;kBAEd,cAAA,6LAAC;YAAI,WAAU;;8BAIb,6LAAC;oBAAQ,WAAW,CAAC;;UAEnB,EAAE,YAAY,mBAAmB,gBAAgB;QACnD,CAAC;8BACC,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,6IAAS;4BACR,WAAW;4BACX,aAAa;;;;;;;;;;;;;;;;8BAOnB,6LAAC;oBAAM,WAAW,CAAC;;UAEjB,EAAE,YACE,sFACA,4BAA4B;QAClC,CAAC;;sCAEC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,8IAAU;;;;;;;;;;sCAGb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,6IAAS;;;;;;;;;;sCAGZ,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,8IAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvB;GAnDwB;KAAA"}}]
}